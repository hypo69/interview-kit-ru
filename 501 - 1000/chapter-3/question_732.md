### `question_732.md`

**Вопрос 732.** Вам дана строка `s` с некоторым количеством слов, разделенных пробелами (может быть несколько пробелов между словами, а также пробелы в начале или в конце строки). Разработайте алгоритм на Python, который меняет порядок слов в строке на обратный. В результирующей строке между словами должен быть ровно один пробел, и не должно быть пробелов в начале и конце строки.

*   Время выполнения скрипта не должно превышать 1 секунду.

**Примеры:**
```
Ввод: s = " Быстрый автомобиль "
Вывод: "автомобиль Быстрый"
```

-  A. Для решения задачи нужно использовать  рекурсию и  последовательно переставлять слова в строке, а затем извлекать их из памяти.
-   B.  Для решения задачи нужно использовать цикл for и создать новую строку, добавляя  слова в обратном порядке.
-   C. Для решения задачи  используется два указателя (с конца строки), а также  вложенный цикл для отбора слова и добавления в результирующую строку.
-  D. Для решения задачи нужно сначала отсортировать слова по длинне и затем сформировать строку в обратном порядке.

**Правильный ответ: C**

**Объяснение:**

Для решения задачи реверсирования порядка слов в строке, с обработкой лишних пробелов, оптимальным является использование алгоритма, который использует два указателя, двигаясь от конца строки к началу, и при этом извлекая слова и добавляя их в результирующую строку. Такой алгоритм позволяет решить задачу за линейное время O(n),  и при этом  избегать лишней памяти.

*   **Алгоритм (два указателя):**
    1.  **Проверка:** Если исходная строка пуста или состоит только из пробелов,  возвращаем пустую строку.
    2.  **Инициализация:** Инициализируем указатель  `start` на конец исходной строки `len(str)-1`, а также пустую строку `ans`.
    3.  **Перебор с конца:**  Цикл  `while`  выполняется пока `start`  не достигнет начала строки:
       *  **Пропуск пробелов:**  Если  текущий символ (на который указывает `start`) пробел, то  `start`  продолжаем двигать влево до тех пор пока он не перестанет быть пробелом.
          *  **Добавление пробела:** Если  результирующая строка  `ans` не пуста, то добавляем пробел в конец `ans` .
          *  **Извлечение слова:**   Далее идет внутренний  `while`  цикл, в котором  `j` двигается от `start` до пробела, формируя слово.
          *    **Добавление в результирующую строку:** Добавляем вырезанное слово в результирующую строку `ans`.
    4.   **Результат:** После обработки всех символов, возвращаем результирующую строку `ans` (которая будет содержать слова в обратном порядке).

*   **Преимущества алгоритма:**
    *   **Линейная сложность:** Алгоритм обходит  строку только один раз, что  обеспечивает  временную сложность O(n), где n -  длинна строки.
    *  **Эффективность:**  Алгоритм не требует дополнительных  структур,  памяти  или сортировки.
    *   **Обработка пробелов:**  Учитывает множественные пробелы.

**Примеры (псевдокод):**

```
function reverse_words(str):
    if str is empty or all chars are spaces
        return ""

    ans = ""
    start = length(str) - 1

    while start >= 0:
      if str[start] is space:
           start = start - 1
       else:
         if length(ans)> 0 :
           ans = ans + " "
         j = start;
        while j >= 0 and str[j] is not space:
          j = j -1;
         ans = ans + substring(str, j+1, start) # add word to ans
        start = j
    return ans
```
**Примеры реализации в Python:**
```python
def reverseString(str: str) -> str:
    if(str == "" or str == " "):
        return ""
    ans = ''

    start = len(str) - 1

    while(start >= 0):
        if(str[start] == ' '):
            start-=1
        else:
            if(len(ans) > 0):
                ans += (' ')

            j = start

            while(j >= 0 and str[j] != ' '):
                j-=1

            ans +=  (str[j+1: j+1+start-j])
            start = j

    return ans

str1 = " Быстрый автомобиль "
print(f"Ввод: s = '{str1}'")
print(f"Вывод: '{reverseString(str1)}'") # Выведет: Вывод: 'автомобиль Быстрый'


str2 = "   test   test2 test3  "
print(f"Ввод: s = '{str2}'")
print(f"Вывод: '{reverseString(str2)}'") # Выведет: Вывод: 'test3 test2 test'
str3 = ""
print(f"Ввод: s = '{str3}'")
print(f"Вывод: '{reverseString(str3)}'") # Выведет: Вывод: ''
str4 = "   "
print(f"Ввод: s = '{str4}'")
print(f"Вывод: '{reverseString(str4)}'") # Выведет: Вывод: ''
```

**Разбор вариантов:**
* **A. Для решения задачи нужно использовать рекурсию и последовательно переставлять слова в строке, а затем извлекать их из памяти.:** Неправильно. Рекурсия не эффективна в данной задаче.
*  **B. Для решения задачи нужно использовать цикл for и создать новую строку, добавляя  слова в обратном порядке.:** Неправильно.
*   **C. Для решения задачи  используется два указателя (с конца строки), а также  вложенный цикл для отбора слова и добавления в результирующую строку.:** Правильно.
*   **D. Для решения задачи нужно сначала отсортировать слова по длинне и затем сформировать строку в обратном порядке.:** Неправильно.

**В результате:**
*  Алгоритм с двумя указателями  обрабатывает пробельные символы и  создает строку со словами в обратном порядке.
*  Двойной цикл позволяет эффективно проанализировать строку.
*  Алгоритм обеспечивает линейную  сложность.

Таким образом, правильным ответом является **C. Для решения задачи используется два указателя (с конца строки), а также вложенный цикл для отбора слова и добавления в результирующую строку.**
