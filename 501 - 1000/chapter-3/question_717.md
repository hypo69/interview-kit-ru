### `question_717.md`

**Вопрос 717.** Дан массив целых чисел `nums`, где каждый элемент находится в диапазоне от 1 до `n` (где `n` — длина массива). Разработайте алгоритм, который находит и возвращает все целые числа из диапазона `[1, n]`, которые *отсутствуют* в массиве `nums`.

**Примеры:**

```
Ввод: nums = [4, 3, 2, 7, 8, 2, 3, 1]
Вывод: [5, 6]

Ввод: nums = [1, 1]
Вывод: [2]
```

- A.  Для решения задачи нужно отсортировать список, и затем создать список недостающих чисел.
- B.  Для решения задачи необходимо использовать хеш-таблицу или множество, и для каждого числа проверять, есть ли он в массиве.
- C.  Для решения задачи нужно создать новый массив из чисел [1,n] и отсеивать все элементы из nums.
- D.  Для решения задачи нужно использовать массив счетчиков, где индекс представляет собой число в диапазоне [1,n], а значение - количество вхождений этого числа, и в конце вернуть все индексы, значения которых равны 0.

**Правильный ответ: D**

**Объяснение:**

Для решения задачи поиска отсутствующих чисел в заданном диапазоне, оптимальным является использование массива счетчиков (или, как вариант, множества), которое позволяет отследить наличие или отсутствие чисел за один проход, при этом  требует  линейную сложность по времени и по памяти.

*  **Алгоритм (с использованием массива счетчиков):**
    1.   **Создание массива счетчиков:**
       *   Создается массив `counters` с  нулями, размер которого равен длине массива `nums`.
         *   Индекс в массиве соответствует значениям в массиве `nums`.
    2. **Перебор массива `nums`**:
         *   Итерируемся по массиву `nums`.
         *  Для каждого элемента увеличиваем  значение в массиве `counters` на единицу по индексу  `element-1` (смещение из за того, что счетчик должен соответствовать значениям от 1 до `n`, а не от 0 до `n-1`).
    3.   **Поиск недостающих:** Перебираем массив счетчиков.
         *  Если значение в счетчике равно нулю, то добавляем индекс + 1 (преобразованное назад  смещение) в список результатов.
    4. **Результат:** После перебора массива счетчиков возвращаем список отсутствующих чисел.

*   **Преимущества алгоритма:**
    *   **Линейная сложность:** Алгоритм имеет временную сложность O(n) , так как проходит по массиву  только  один раз.
    *   **Простота:** Алгоритм прост в реализации.
   *  **Использование ограниченной памяти:** Объем памяти под массив `counters`  зависит от размера массива `nums`.

**Примеры (псевдокод):**

```
function find_missing_numbers(nums):
    n = length(nums)
    counters = an array initialized with zeros of size n
    for element in nums:
       counters[element-1] += 1
    result = []
   for i from 0 to n:
       if counters[i] == 0:
            result.append(i + 1)
    return result
```
**Примеры реализации в Python:**

```python
def find_missing_numbers(nums):
    n = len(nums)
    counters = [0] * n # массив счетчиков
    for el in nums:
        counters[el - 1] += 1
    net = []
    for i in range(n):
        if counters[i] == 0:
            net.append(i + 1)
    return net

nums1 = [4, 3, 2, 7, 8, 2, 3, 1]
print(f"Ввод: nums = {nums1}")
print(f"Вывод: {find_missing_numbers(nums1)}") # Выведет: Вывод: [5, 6]

nums2 = [1,1]
print(f"Ввод: nums = {nums2}")
print(f"Вывод: {find_missing_numbers(nums2)}") # Выведет: Вывод: [2]
```
**Разбор вариантов:**
*   **A. Для решения задачи нужно отсортировать список, и затем создать список недостающих чисел.:** Неправильно. Сортировка не нужна и не повышает эффективность алгоритма.
*    **B. Для решения задачи необходимо использовать хеш-таблицу или множество, и для каждого числа проверять, есть ли он в массиве.:** Неправильно. Множество, или хеш таблица,  можно использовать, но это не самый эффективный подход.
*  **C. Для решения задачи нужно создать новый массив из чисел [1,n] и отсеивать все элементы из nums.:** Неправильно, этот метод требует больше памяти.
*   **D. Для решения задачи нужно использовать массив счетчиков, где индекс представляет собой число в диапазоне [1,n], а значение - количество вхождений этого числа, и в конце вернуть все индексы, значения которых равны 0.:** Правильно.

**В результате:**
*  Алгоритм с массивом счетчиков  позволяет найти отсутствующие элементы за линейное время.
*  Массив  счетчиков отслеживает вхождения каждого числа из заданного диапазона.
*  Проверка  нулевых  значений в массиве  позволяет  определить отсутствующие числа.

Таким образом, правильным ответом является **D. 
Для решения задачи нужно использовать массив счетчиков, где индекс представляет собой число в диапазоне [1,n], 
а значение - количество вхождений этого числа, и в конце вернуть все индексы, значения которых равны 0.**
