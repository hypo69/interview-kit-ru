### `question_548.md`

**Вопрос 548.** Какие существуют основные способы копирования списков в Python, и в чем разница между поверхностным и глубоким копированием? Приведите примеры, демонстрирующие различные способы копирования и их эффект.

-   A. В Python есть только один способ копирования списков - с использованием метода `copy()`, все остальные способы создают ссылки на исходный список.
-   B. Существуют способы поверхностного копирования (`[:]`, `list()`, `copy()`) и глубокого копирования (`deepcopy()`). Поверхностное копирование создает новый список, но элементы вложенных списков остаются ссылками на оригинальный список. Глубокое копирование создает полностью независимые копии списков, включая все вложенные объекты.
-   C. Существуют три способа копирования списков: `[:]`, `list()` и `copy()`, которые выполняют глубокое копирование.
-   D.  В Python списки не могут быть скопированы, их можно только переименовать.

**Правильный ответ: B**

**Объяснение:**

В Python существует несколько способов копирования списков, которые создают либо *поверхностные* копии, либо *глубокие* копии. Понимание разницы между ними критично для предотвращения ошибок, связанных с нежелательными изменениями данных.

1.  **Поверхностное копирование (Shallow Copy):**
    *   Создает новый объект списка, но не рекурсивно копирует объекты, содержащиеся в исходном списке.
    *   Если элементы исходного списка сами являются изменяемыми объектами (например, вложенные списки), то в скопированном списке будут храниться ссылки на эти объекты, а не их копии.
    *   Способы создания поверхностной копии:
        *   **Срез (`[:]`):** `new_list = old_list[:]`
        *   **Функция `list()`:** `new_list = list(old_list)`
        *   **Метод `copy()`:** `new_list = old_list.copy()`
2.  **Глубокое копирование (Deep Copy):**
    *   Создает новый объект списка и рекурсивно копирует все объекты, содержащиеся в исходном списке, включая вложенные изменяемые объекты.
    *   Изменения в глубоко скопированном списке не повлияют на исходный список и наоборот.
    *   Используется функция `deepcopy()` из модуля `copy`.
        *   `import copy; new_list = copy.deepcopy(old_list)`

**Примеры кода (поверхностное копирование):**

```python
import copy

old_list = [1, 2, [3, 4]]

# Поверхностное копирование (срезом)
new_list1 = old_list[:]

# Поверхностное копирование (list())
new_list2 = list(old_list)

# Поверхностное копирование (.copy())
new_list3 = old_list.copy()

print(f"Original list id: {id(old_list)}")
print(f"new_list1 id: {id(new_list1)}")
print(f"new_list2 id: {id(new_list2)}")
print(f"new_list3 id: {id(new_list3)}")


old_list[0] = 100 # изменение старого списка
print(f"new_list1: {new_list1}")
print(f"new_list2: {new_list2}")
print(f"new_list3: {new_list3}")

old_list[2][0] = 5 # изменение вложенного списка
print(f"new_list1: {new_list1}")
print(f"new_list2: {new_list2}")
print(f"new_list3: {new_list3}")

```

**Вывод:**
```
Original list id: 140493391085632
new_list1 id: 140493391092032
new_list2 id: 140493391091520
new_list3 id: 140493391091456
new_list1: [1, 2, [3, 4]]
new_list2: [1, 2, [3, 4]]
new_list3: [1, 2, [3, 4]]
new_list1: [1, 2, [5, 4]]
new_list2: [1, 2, [5, 4]]
new_list3: [1, 2, [5, 4]]
```

**Примеры кода (глубокое копирование):**

```python
import copy

old_list = [1, 2, [3, 4]]

# Глубокое копирование (deepcopy)
new_list = copy.deepcopy(old_list)
print(f"Original list id: {id(old_list)}")
print(f"new_list id: {id(new_list)}")


old_list[0] = 100
old_list[2][0] = 5
print(f"old_list: {old_list}")
print(f"new_list: {new_list}")
```

**Вывод:**

```
Original list id: 140493391086464
new_list id: 140493391085952
old_list: [100, 2, [5, 4]]
new_list: [1, 2, [3, 4]]
```

**Разбор вариантов:**
*  **A. В Python есть только один способ копирования списков - с использованием метода `copy()`, все остальные способы создают ссылки на исходный список:** Неправильно.
*   **B. Существуют способы поверхностного копирования (`[:]`, `list()`, `copy()`) и глубокого копирования (`deepcopy()`). Поверхностное копирование создает новый список, но элементы вложенных списков остаются ссылками на оригинальный список. Глубокое копирование создает полностью независимые копии списков, включая все вложенные объекты:** Правильно.
*   **C. Существуют три способа копирования списков: `[:]`, `list()` и `copy()`, которые выполняют глубокое копирование:** Неправильно, эти способы выполняют только поверхностное копирование.
*   **D. В Python списки не могут быть скопированы, их можно только переименовать:** Неправильно.

**В результате:**
*   Поверхностное копирование создает новый список, но не создает новые объекты для вложенных изменяемых элементов (их ID не меняется).
*   Глубокое копирование создает полностью независимую копию списка, включая все вложенные объекты.

Таким образом, правильным ответом является **B. Существуют способы поверхностного копирования (`[:]`, `list()`, `copy()`) и глубокого копирования (`deepcopy()`). Поверхностное копирование создает новый список, но элементы вложенных списков остаются ссылками на оригинальный список. Глубокое копирование создает полностью независимые копии списков, включая все вложенные объекты.**
