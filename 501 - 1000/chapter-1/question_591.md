### `question_591.md`

**Вопрос 591.** Что такое декораторы в Python и как они применяются? Приведите пример кода, демонстрирующий создание и использование простого декоратора.

-  A. Декораторы - это функции, используемые для хранения данных о других функциях.
-   B. Декораторы - это способ создания анонимных функций, которые используются для коротких вычислений.
-   C. Декораторы - это функции, которые принимают другую функцию в качестве аргумента, расширяют ее функциональность и возвращают новую функцию (обертку).
-   D. Декораторы - это специальный синтаксис для вызова родительских методов в классах.

**Правильный ответ: C**

**Объяснение:**

Декораторы в Python — это мощный и удобный способ изменения или расширения поведения функций или методов без изменения их исходного кода. Они основываются на концепции функций высшего порядка, где функции могут принимать другие функции в качестве аргументов или возвращать функции.

*   **Основные характеристики декораторов:**
    *   **Функция-обертка:** Декоратор - это функция, которая принимает другую функцию и возвращает "обертку" -  новую функцию, которая вызывает оригинальную функцию, добавляя какую-то новую функциональность.
    *    **`@decorator_name`:**  Специальный синтаксис для применения декоратора, что является синтаксическим сахаром.
    *  **Повторное использование кода:** Декораторы способствуют повторному использованию кода.
    *   **Модификация поведения:** Декораторы позволяют добавлять новую логику к функциям или методам без необходимости изменения их исходного кода.

*   **Как работает декоратор:**
    1.  Создается функция-декоратор (обычно функция, которая принимает функцию и возвращает функцию).
    2.  Декоратор применяется к функции с помощью символа `@` перед именем декоратора (например `@my_decorator`).
    3. При вызове декорированной функции, сначала будет вызвана обертка, а внутри нее и исходная функция.

**Примеры:**

```python
# Пример создания простого декоратора
def logging(func):
  def log_function_called():
     print(f'{func.__name__} called.')
     func()
  return log_function_called

@logging # декорируем функцию с помощью @logging
def my_name():
  print('chris')

@logging # декорируем функцию с помощью @logging
def friends_name():
  print('naruto')

my_name()
friends_name()
# Выведет:
# my_name called.
# chris
# friends_name called.
# naruto

# Пример использования `*args, **kwargs`

def logger(func):
    def wrapper(*args, **kwargs):
        print(f'Вызывается функция {func.__name__} с аргументами {args}, и {kwargs}')
        result = func(*args, **kwargs)
        print(f'функция {func.__name__} завершила работу')
        return result
    return wrapper
@logger
def my_function(x, y = 10):
    return x*y
my_function(2, 3)
# Выведет:
# Вызывается функция my_function с аргументами (2,), и {'y': 3}
# функция my_function завершила работу
```

**Разбор примеров:**

1.  **`logging(func)`:**
     * Декоратор `logging`, принимающий в качестве аргумента функцию `func`
      *  `log_function_called()`: Функция-обертка, которая выводит сообщение о вызове функции и вызывает оригинальную функцию `func`.
     *  `@logging`  применяет декоратор к функциям `my_name` и `friends_name`.
2.  **`my_name()` и `friends_name()`:**  Две функции, к которым применяется декоратор.
3. При вызове `my_name()` или  `friends_name()`  выводится сообщение о вызове функции, а потом выполняется код функции.
4. **`logger(func)`**: Декоратор, принимающий функцию как аргумент.
   * `wrapper(*args, **kwargs)`:  Обертка которая выводит информацию о вызове функции, а также  аргументы, и после вызова функции также выводит сообщение.
   * `@logger`: Применяет декоратор к `my_function`

**Разбор вариантов:**
*   **A. Декораторы - это функции, используемые для хранения данных о других функциях.:** Неправильно.
*   **B. Декораторы - это способ создания анонимных функций, которые используются для коротких вычислений.:** Неправильно.
*   **C. Декораторы - это функции, которые принимают другую функцию в качестве аргумента, расширяют ее функциональность и возвращают новую функцию (обертку).:** Правильно.
*   **D. Декораторы - это специальный синтаксис для вызова родительских методов в классах.:** Неправильно.

**В результате:**
*   Декораторы позволяют расширять функциональность существующих функций без изменения их кода.
*  Они используются для добавления логирования, проверки прав доступа, кэширования результатов и других распространенных задач.
*  `@` используется для применения декоратора к функции, тем самым, позволяя реализовать логику "на лету".

Таким образом, правильным ответом является **C. Декораторы - это функции, которые принимают другую функцию в качестве аргумента, расширяют ее функциональность и возвращают новую функцию (обертку).**
