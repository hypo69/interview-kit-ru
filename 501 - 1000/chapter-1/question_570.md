Хорошо, давайте начнем с создания вопроса для собеседования по паттерну "Compose" (композиция).

### `question_569.md`

**Вопрос 569.** Что такое функциональный паттерн проектирования "Compose" (композиция), и как он используется в Python? Приведите пример, демонстрирующий объединение нескольких функций в одну с помощью композиции.

-   A. Паттерн "Compose" - это способ создания новых объектов на основе уже существующих, без изменения их исходного кода.
-   B. Паттерн "Compose" - это способ объединения нескольких функций в цепочку, так что результат вызова одной функции становится входом для следующей.
-   C. Паттерн "Compose" - это способ изменять поведение объекта во время выполнения, не создавая новые классы.
-   D. Паттерн "Compose" - это способ создания рекурсивных функций, которые могут вызывать сами себя.

**Правильный ответ: B**

**Объяснение:**

Паттерн "Compose" (композиция) в функциональном программировании позволяет объединять несколько функций в одну, последовательно применяя их друг к другу. Результат вызова одной функции становится входом для следующей, что создает цепочку преобразований или операций.

*   **Основные концепции паттерна "Compose":**
    *   **Последовательное применение:** Функции применяются друг за другом, передавая результат от одной к другой.
    *   **Создание новых функций:** Объединяя простые функции в более сложные.
    *   **Повышение читаемости:** Позволяет разбивать сложные операции на более простые и переиспользуемые функции.
    *   **Декларативный стиль:** Позволяет описывать сложные операции декларативно, указывая как функции должны сочетаться, а не как точно это нужно реализовать.
    *  **Композиция функций высшего порядка:** Композиция часто реализуется с помощью функций высшего порядка, которые могут работать с другими функциями.

*   **Применение в Python:**
    *   В Python для реализации композиции можно использовать функцию `functools.reduce` или просто объединять вызовы функций в цепочку.

**Примеры:**

```python
from functools import reduce

def add_one(x):
    return x + 1

def multiply_by_two(x):
    return x * 2

def compose(*funcs):
    def composed_function(x):
        return reduce(lambda acc, f: f(acc), funcs, x)
    return composed_function

# Способ 1: Используя свою compose функцию
composed_function = compose(add_one, multiply_by_two, add_one)
print(composed_function(5))  # Выведет: 13  ((5 + 1) * 2 + 1)

#Способ 2: Ручное объединение функций в цепочку
print(add_one(multiply_by_two(add_one(5)))) # Выведет: 13

# Способ 3: без reduce, когда известно кол-во функций
def composed_function2(x):
  return add_one(multiply_by_two(x))
print(composed_function2(5)) # Выведет: 11
```

**Разбор примеров:**

1.  `add_one(x)`: Функция прибавляет 1 к заданному числу.
2.  `multiply_by_two(x)`: Функция умножает число на 2.
3.  `compose(*funcs)`: Функция, которая реализует паттерн "Compose":
    *   Принимает произвольное количество функций (функции для композиции) через `*funcs`
    *   Возвращает `composed_function`, которая итерируется по всем функциям, применяя их к начальному значению.
4.  **Способ 1:**
    *  `composed_function` создается с помощью `compose(add_one, multiply_by_two, add_one)`, где функции применятся в порядке следования (add_one, multiply_by_two, add_one).
    *  `composed_function(5)` : принимает `5` и применяет к нему функции.  `5 + 1 = 6`, `6 * 2 = 12`, `12 + 1 = 13`.
5. **Способ 2:**  Композиция, созданная вручную путем вызова функций в нужном порядке. `5 + 1 = 6`, `6 * 2 = 12`, `12 + 1 = 13`
6. **Способ 3:** Композиция без reduce, если кол-во функций известно. `5 * 2 = 10` и `10+1 = 11`.

**Разбор вариантов:**
*   **A. Паттерн "Compose" - это способ создания новых объектов на основе уже существующих, без изменения их исходного кода.:** Неправильно.
*   **B. Паттерн "Compose" - это способ объединения нескольких функций в цепочку, так что результат вызова одной функции становится входом для следующей.:** Правильно.
*   **C. Паттерн "Compose" - это способ изменять поведение объекта во время выполнения, не создавая новые классы.:** Неправильно.
*   **D. Паттерн "Compose" - это способ создания рекурсивных функций, которые могут вызывать сами себя.:** Неправильно.

**В результате:**
*  Паттерн "Compose" позволяет создавать более сложные функции путем объединения более простых.
*  Функцию `functools.reduce()` можно использовать для реализации композиции.

Таким образом, правильным ответом является **B. Паттерн "Compose" - это способ объединения нескольких функций в цепочку, так что результат вызова одной функции становится входом для следующей.**
