Хорошо, давайте создадим вопрос для собеседования по паттерну "Partial application" (частичное применение) и присвоим ему номер `question_571.md`.

### `question_571.md`

**Вопрос 571.** Что такое функциональный паттерн проектирования "Partial application" (частичное применение) и как он используется в Python? Приведите пример использования частичного применения для создания специализированных версий функций.

-   A. Partial application - это паттерн для обработки ошибок при вызове функций.
-   B. Partial application - это паттерн, позволяющий объединять функции в цепочку.
-   C. Partial application - это паттерн, который преобразует функцию, принимающую несколько аргументов, в функцию, принимающую один аргумент.
-   D. Partial application - это паттерн, который фиксирует часть аргументов функции, возвращая новую функцию меньшей арности (с меньшим количеством аргументов).

**Правильный ответ: D**

**Объяснение:**

Partial application (частичное применение) — это функциональный паттерн, который позволяет фиксировать (закреплять) часть аргументов функции, создавая новую функцию меньшей арности (то есть функцию, принимающую меньшее количество аргументов). Это позволяет создавать более специализированные версии функций, которые могут быть более удобными для использования в определенных контекстах.

*   **Основные концепции частичного применения:**
    *   **Фиксация аргументов:** Закрепление значений для части аргументов оригинальной функции.
    *   **Создание новой функции:** Возвращение новой функции, которая ожидает только оставшиеся (не зафиксированные) аргументы.
    *  **Уменьшение арности:** Арность новой функции меньше, чем у исходной функции.
    *   **Удобство и переиспользование:**  Позволяет создавать функции, которые можно переиспользовать с разными значениями аргументов.

*   **Использование в Python:**
    *   В Python частичное применение можно реализовать с помощью `functools.partial()`.

**Примеры:**

```python
from functools import partial

def power(base, exponent):
    return base ** exponent

# Создаем специализированную функцию возведения в квадрат
square = partial(power, exponent=2) # фиксеруем exponent
print(square(5))  # 25

# Создаем специализированную функцию для возведения в куб
cube = partial(power, exponent=3)
print(cube(3))  # 27

# Пример с фиксированием первого аргумента
def multiply(a, b):
    return a * b

multiply_by_5 = partial(multiply, 5)
print(multiply_by_5(6))  # 30

# Пример с фиксированием двух аргументов
def calculate_discount(price, discount, tax):
   return price * (1 - discount) * (1+ tax)

discount_with_tax = partial(calculate_discount, discount=0.2, tax=0.1)
print(discount_with_tax(100)) # 88

```

**Разбор примеров:**

1.  **`power(base, exponent)`:**  Функция для возведения `base` в степень `exponent`.
2.  **`square = partial(power, exponent=2)`:**  Создает новую функцию `square` с помощью `partial`, где значение `exponent` зафиксировано как `2`. Таким образом, `square(5)` это тоже самое, что и `power(5, 2)`
3.   **`cube = partial(power, exponent=3)`:** Создает новую функцию `cube` с помощью `partial`, где значение `exponent` зафиксировано как `3`. Таким образом `cube(3)` это тоже самое, что и `power(3, 3)`
4.  **`multiply(a, b)`:** Функция умножает `a` на `b`.
5.  **`multiply_by_5 = partial(multiply, 5)`:** Создает функцию `multiply_by_5` с помощью `partial`, где значение `a` зафиксировано как 5. Таким образом `multiply_by_5(6)` это тоже самое что и `multiply(5, 6)`
6.   **`calculate_discount(price, discount, tax)`**: Функция для расчета цены с учетом скидки и налога.
7.   **`discount_with_tax = partial(calculate_discount, discount=0.2, tax=0.1)`:** Создает функцию `discount_with_tax` с помощью `partial`, где значения `discount=0.2` и `tax=0.1` зафиксированы.

**Разбор вариантов:**
*   **A. Partial application - это паттерн для обработки ошибок при вызове функций.:** Неправильно.
*  **B. Partial application - это паттерн, позволяющий объединять функции в цепочку.:** Неправильно. Это относится к паттерну Compose.
*  **C. Partial application - это паттерн, который преобразует функцию, принимающую несколько аргументов, в функцию, принимающую один аргумент.:** Неправильно.
*   **D. Partial application - это паттерн, который фиксирует часть аргументов функции, возвращая новую функцию меньшей арности (с меньшим количеством аргументов).:** Правильно.

**В результате:**
*   Частичное применение позволяет создавать более специализированные версии функций, фиксируя часть аргументов.
*  Функция `functools.partial()` позволяет реализовать частичное применение в Python.

Таким образом, правильным ответом является **D. Partial application - это паттерн, который фиксирует часть аргументов функции, возвращая новую функцию меньшей арности (с меньшим количеством аргументов).**
