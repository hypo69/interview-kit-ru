### `question_025.md`

**Вопрос 25.** В Python ключевые слова `global` и `nonlocal` служат разным целям при работе с областью видимости переменных. Как эти ключевые слова функционируют во вложенных функциях или модулях и какой правильный способ использовать их для изменения значений переменных, существующих в разных областях видимости, таких как внутри внешней функции или на глобальном уровне модуля?

A. Ключевое слово `global` используется для изменения переменных во вложенных функциях, в то время как `nonlocal` можно использовать для доступа к глобальным переменным напрямую из любой вложенной области видимости.
B. Ключевое слово `global` позволяет изменять переменную на уровне модуля внутри функции, в то время как `nonlocal` обеспечивает доступ к ближайшей включающей области видимости, не являющейся глобальной, помогая управлять вложенными переменными функции.
C. Ключевое слово `global` в основном предназначено для объявления констант в нескольких функциях, а `nonlocal` используется исключительно для изменения переменных уровня класса изнутри методов.
D. Ключевые слова `global` и `nonlocal` взаимозаменяемы в Python, позволяя изменять любую переменную независимо от ее исходной области видимости.

**Правильный ответ: B**

**Объяснение:**

Ключевые слова `global` и `nonlocal` в Python предназначены для управления видимостью и модификацией переменных в различных областях видимости.

*   **`global`**:

    *   Используется внутри функции для указания, что переменная, к которой обращается функция, объявлена в *глобальной* области видимости (т.е. на уровне модуля).
    *   Позволяет изменять глобальные переменные изнутри функции.
    *   Без `global` любая переменная, которой присваивается значение внутри функции, автоматически считается локальной переменной этой функции, даже если переменная с таким же именем существует в глобальной области видимости.
*   **`nonlocal`**:

    *   Используется внутри *вложенной* функции для указания, что переменная, к которой обращается функция, объявлена в *ближайшей включающей области видимости, не являющейся глобальной* (обычно это область видимости внешней функции).
    *   Позволяет изменять переменные из области видимости внешней функции изнутри внутренней функции.
    *   `nonlocal` не ищет переменные в глобальной области видимости, если они не объявлены в области внешней функции.

Давайте разберем варианты ответов:

*   **Вариант A** не верен: Он описывает обратное предназначение `global` и `nonlocal`.
*   **Вариант B** верен: Оно точно отражает роли `global` и `nonlocal` при работе с областями видимости в функциях.
*   **Вариант C** не верен: Ключевое слово `global` не используется для объявления констант.
*   **Вариант D** не верен: `global` и `nonlocal` не взаимозаменяемы, и имеют разное предназначение.

**Пример:**

```python
# Пример global
global_var: int = 10

def modify_global_var():
    global global_var # Объявляем, что хотим использовать глобальную переменную
    global_var = 20
    print(f"Глобальная переменная внутри функции: {global_var}")

modify_global_var()
print(f"Глобальная переменная вне функции: {global_var}")

# Пример nonlocal
def outer_function():
    outer_var: int = 10
    def inner_function():
        nonlocal outer_var # Объявляем, что хотим использовать переменную внешней функции
        outer_var = 20
        print(f"Переменная внешней функции внутри внутренней: {outer_var}")

    inner_function()
    print(f"Переменная внешней функции вне внутренней: {outer_var}")

outer_function()
```
**В результате:**

*   В примере `global`  переменная `global_var` была объявлена на уровне модуля, затем функция  `modify_global_var` изменила ее и это изменение отразилось во вне функции.
*  В примере `nonlocal` переменная `outer_var` была объявлена во внешней функции, затем изменена во внутренней функции, и это изменение также отразилось во внешней функции.

Таким образом, **вариант B** является верным, точно описывая предназначение `global` и `nonlocal`.
