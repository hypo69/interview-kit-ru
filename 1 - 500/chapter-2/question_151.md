### `question_151.md`

**Вопрос 51.** Что делают методы `__str__` и `__repr__` в Python классах и когда вызывается каждый из них?

A.  Метод `__str__` возвращает представление объекта, предназначенное для разработки, а метод `__repr__` возвращает представление для конечного пользователя.
B.  Метод `__str__` возвращает представление объекта, предназначенное для конечного пользователя, а метод `__repr__` возвращает представление для целей отладки.
C.  Метод `__str__` используется для сравнения двух объектов, а метод `__repr__` используется для их хеширования.
D.  Метод `__str__` используется для создания копии объекта, а метод `__repr__` для удаления объекта.

**Правильный ответ: B**

**Объяснение:**

В Python специальные методы `__str__` и `__repr__` отвечают за строковое представление объектов, но используются в разных контекстах.

*   **`__str__()`:**
    *   Этот метод вызывается, когда нужно получить "неформальное" или "человеко-читаемое" строковое представление объекта.
    *   Это происходит, когда объект передается в функции `print()` или `str()`.
    *   Он предназначен для конечного пользователя.
*   **`__repr__()`:**
    *   Этот метод вызывается для получения "официального" или "неоднозначного" строкового представления объекта.
    *   Это представление должно содержать все необходимые данные для создания копии объекта.
    *   Он используется для отладки и логирования.
    *   Этот метод вызывается, когда объект отображается в интерпретаторе Python (без `print`).

Теперь посмотрим на варианты ответов:

*   **Вариант A** не верен: роли методов `__str__` и `__repr__` описаны в обратном порядке.
*   **Вариант B** верен: `__str__` предназначен для представления объекта для пользователя, `__repr__` для целей отладки.
*   **Вариант C** не верен:  Для сравнения используют другие специальные методы (`__eq__` и т.д.).
*   **Вариант D** не верен: За создание копий отвечает метод `__copy__`, а за удаление объекта `__del__`.

**Пример:**

```python
class Point:
    def __init__(self, x: int, y: int):
        self.x = x
        self.y = y

    def __str__(self):
      return f"Point({self.x}, {self.y})"

    def __repr__(self):
      return f"Point(x={self.x}, y={self.y})"


point: Point = Point(3, 5)
print(point)  # Вывод: Point(3, 5)  (вызывается __str__)
print(str(point)) # Вывод: Point(3, 5) (вызывается __str__)
point  # Вывод: Point(x=3, y=5)  (вызывается __repr__)
```

**В результате:**
*   `print(point)` и `str(point)` вызывают `__str__()` для получения "человеко-читаемого" представления.
*   Простой вывод переменной `point` вызывает метод `__repr__()` для получения представления объекта для отладки.

Таким образом, **вариант B** является правильным ответом.
