### `question_069.md`

**Вопрос 069.** Что такое "Immutability" (иммутабельность) в контексте функционального программирования, и какие преимущества она предоставляет? Приведите примеры изменяемых и неизменяемых объектов в Python и объясните, как использование иммутабельности может упростить код.

-   A. Иммутабельность - это концепция, которая означает, что объекты можно изменять только в одном месте, при их создании, но не после.
-   B. Иммутабельность - это использование объектов только для чтения.
-   C. Иммутабельность - это концепция, которая заключается в избегании изменяемых данных и использовании только неизменяемых, что упрощает код и уменьшает вероятность побочных эффектов.
-   D. Иммутабельность - это паттерн проектирования для создания только одного объекта определенного типа, без возможности изменения его состояния.

**Правильный ответ: C**

**Объяснение:**

Иммутабельность (immutability) — это концепция в программировании, особенно в функциональном программировании, которая заключается в избегании изменяемых данных. Иммутабельные объекты — это объекты, которые не могут быть изменены после создания. При изменении такого объекта фактически создаётся новый объект с измененным значением, а старый остается неизменным.

*   **Основные принципы иммутабельности:**
    *   **Неизменяемость:** Объекты не могут быть изменены после создания.
    *   **Новый объект при изменении:** Любая операция, которая кажется изменяет объект, на самом деле создаёт новый объект с измененными значениями.
    *   **Отсутствие побочных эффектов:** Функции, работающие с иммутабельными объектами, не изменяют состояние существующих данных и не создают побочных эффектов, если не создавать новые переменные.
    *  **Простота и предсказуемость:** Код становится более простым и предсказуемым, так как не происходит нежелательного изменения объектов.
*   **Преимущества иммутабельности:**
   *   **Безопасность:** Исключение побочных эффектов,  снижение вероятности ошибок, связанных с одновременным изменением объектов из разных частей программы.
    *   **Упрощение отладки:** Код, который не изменяет данные, намного проще отлаживать.
    *   **Многопоточность:** Легче работать с иммутабельными объектами в многопоточной среде, поскольку не нужно беспокоиться о гонках данных.
*   **Иммутабельные и изменяемые объекты в Python:**
     *   **Иммутабельные объекты:**
        *   Числа (int, float, complex).
        *   Строки (str).
        *   Кортежи (tuple).
        *   `frozenset` - не изменяемые множества.
        *   Булевы значения (bool).
    *   **Изменяемые объекты:**
        *   Списки (list).
        *  Словари (dict).
        *   Множества (set).

**Примеры:**
```python
# Пример иммутабельных объектов
string1 = "hello"
string2 = string1.upper() # Создается новый объект, а строка string1 остается без изменения
print(f"string1: {string1}") # Выведет: string1: hello
print(f"string2: {string2}") # Выведет: string2: HELLO

tuple1 = (1, 2, 3)
# tuple1[0] = 10 # вызовет исключение TypeError
tuple2 = tuple1 + (4,5) # Создается новый tuple, а tuple1 не меняется
print(f"tuple1: {tuple1}")  # Выведет: tuple1: (1, 2, 3)
print(f"tuple2: {tuple2}") # Выведет: tuple2: (1, 2, 3, 4, 5)


# Пример изменяемых объектов
list1 = [1, 2, 3]
list2 = list1 #  list2 теперь ссылается на list1
list1[0] = 10 # изменяет list1
print(f"list1: {list1}") # Выведет list1: [10, 2, 3]
print(f"list2: {list2}") # Выведет list2: [10, 2, 3] , поскольку list2 ссылается на тот же объект

list1 = [1, 2, 3]
list2 = list1.copy() # list2 теперь является копией list1
list1[0] = 10  # изменяет list1
print(f"list1: {list1}")  # Выведет list1: [10, 2, 3]
print(f"list2: {list2}")  # Выведет list2: [1, 2, 3], поскольку list2 является независимой копией
```
**Разбор примеров:**

1.  **Пример иммутабельных объектов:**
    * `string2 = string1.upper()` создает новую строку `string2` в верхнем регистре, а `string1` не меняется.
    *  `tuple2 = tuple1 + (4,5)` создает новый кортеж `tuple2`, а `tuple1` не меняется.
2.  **Пример изменяемых объектов:**
       *   `list2 = list1` присваивает `list2` ссылку на список, который хранится в `list1`, то есть, не создается новый список.
        *   `list1[0] = 10` изменяет оригинальный список, и поэтому все переменные, которые ссылаются на него, изменятся тоже.
       * `list2 = list1.copy()` создает новый список, и он не будет изменен после изменения `list1`

**Разбор вариантов:**
*   **A. Иммутабельность - это концепция, которая означает, что объекты можно изменять только в одном месте, при их создании, но не после.:** Неправильно.
*   **B. Иммутабельность - это использование объектов только для чтения.:** Неправильно. Иммутабельные объекты не могут быть изменены совсем, а не только для чтения.
*  **C. Иммутабельность - это концепция, которая заключается в избегании изменяемых данных и использовании только неизменяемых, что упрощает код и уменьшает вероятность побочных эффектов.:** Правильно.
*  **D. Иммутабельность - это паттерн проектирования для создания только одного объекта определенного типа, без возможности изменения его состояния.:** Неправильно.

**В результате:**
*  Иммутабельность способствует созданию более безопасного, предсказуемого и простого кода.
*  Иммутабельные объекты не могут быть изменены после создания, что позволяет избежать ошибок связанных с изменением состояния.

Таким образом, правильным ответом является **C. Иммутабельность - это концепция, которая заключается в избегании изменяемых данных и использовании только неизменяемых, что упрощает код и уменьшает вероятность побочных эффектов.**
