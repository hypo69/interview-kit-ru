### `question_070.md`

**Вопрос 070.** Что такое композиция функций, и как ее можно реализовать в Python? Приведите пример кода, демонстрирующий композицию функций, где результат одной функции передается в качестве аргумента другой.

-   A. Композиция функций - это процесс создания объектов из классов, использующих значения, полученные из других объектов.
-   B. Композиция функций - это процесс, когда функция вызывает себя несколько раз.
-   C. Композиция функций - это комбинация двух или более функций, при которой результат выполнения одной функции передается в качестве аргумента другой функции.
-   D. Композиция функций - это способ создания функций, которые могут выполняться в отдельных потоках.

**Правильный ответ: C**

**Объяснение:**

Композиция функций (function composition) — это функциональный паттерн, который позволяет объединять две или более функции таким образом, что результат одной функции передается в качестве аргумента другой функции. Это позволяет создавать новые, более сложные функции, из простых и переиспользуемых.

*   **Основные концепции композиции функций:**
    *   **Цепочка вычислений:** Результат одной функции становится входным значением для следующей функции.
    *   **Последовательное применение:** Функции применяются друг за другом в определенном порядке.
    *   **Новая функция из простых:** Композиция позволяет создавать сложные функции из более простых.
    *   **Возможность повторного использования:** Композиция позволяет переиспользовать ранее созданные функции.
*   **Реализация композиции в Python:**
     *   В Python композицию можно реализовать вручную с помощью вложенных вызовов функций или с помощью оператора `|` (начиная с Python 3.9), или с помощью использования лямбда-функций.

**Пример (из текста вопроса):**

```python
def double(x):
    return 2 * x

def square(x):
    return x ** 2

def compose(f, g):
    return lambda x: f(g(x))

composed = compose(square, double)
print(composed(5))  # 100
```

**Описание примера:**

1.  **`double(x)`:** Функция, которая умножает число `x` на 2.
2.  **`square(x)`:** Функция, которая возводит число `x` в квадрат.
3. **`compose(f, g)`**: Функция, реализующая композицию.
    * Принимает функции `f` и `g` в качестве аргументов.
    *  Возвращает лямбда-функцию `lambda x: f(g(x))`, которая сначала применяет функцию `g` к аргументу `x`, а затем применяет функцию `f` к результату `g(x)`.
4.  **`composed = compose(square, double)`:**  Создается новая функция `composed`, которая является композицией `square` и `double`. Она эквивалента `lambda x : square(double(x))`.
5.  `composed(5)`:  Принимает аргумент `5` и выполняет функции в порядке `(5*2)**2`, т.е. `double(5)` (что равно `10`) и затем `square(10)` (что равно `100`).

**Другие примеры:**
```python

# Пример композиции с помощью вложенных вызовов функций
def add1(x):
   return x + 1
def multiply_by_3(x):
   return x*3

def composed_func_manual(x):
    return add1(multiply_by_3(x))

print(composed_func_manual(5)) # Выведет: 16

# Пример композиции с использованием reduce и lambda функции
from functools import reduce

def compose_with_reduce(*funcs):
    return lambda x: reduce(lambda acc, f: f(acc), funcs, x)


composed2 = compose_with_reduce(add1, multiply_by_3)
print(composed2(5)) # Выведет: 16
```
**Разбор вариантов:**
*   **A. Композиция функций - это процесс создания объектов из классов, использующих значения, полученные из других объектов.:** Неправильно. Композиция функций не связана с созданием объектов из классов.
*   **B. Композиция функций - это процесс, когда функция вызывает себя несколько раз.:** Неправильно. Это описание рекурсии.
*   **C. Композиция функций - это комбинация двух или более функций, при которой результат выполнения одной функции передается в качестве аргумента другой функции.:** Правильно.
*   **D. Композиция функций - это способ создания функций, которые могут выполняться в отдельных потоках.:** Неправильно.

**В результате:**
*  Композиция функций позволяет создавать более сложные операции из простых.
*  Использование композиции способствует модульности и переиспользованию кода.

Таким образом, правильным ответом является **C. Композиция функций - это комбинация двух или более функций, при которой результат выполнения одной функции передается в качестве аргумента другой функции.**
